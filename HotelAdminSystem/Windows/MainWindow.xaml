<Window x:Class="HotelAdminSystem.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:HotelAdminSystem"
        mc:Ignorable="d"
        Title="Система администратора отеля" MinHeight="600" MinWidth="1200">
    <Grid>
        <TabControl>
            <!-- Вкладка номеров -->
            <TabItem Header="Номера">
                <Grid>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <DataGrid x:Name="RoomsGrid" Margin="10" AutoGenerateColumns="False" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Номер" Binding="{Binding RoomNumber}" FontSize="18"/>
                                    <DataGridTextColumn Header="Тип" Binding="{Binding RoomTypeDisplay}"  FontSize="18"/>
                                    <DataGridTextColumn Header="Цена/ночь" Binding="{Binding PricePerNight, StringFormat={}{0}₽}" FontSize="18"/>
                                    <DataGridTextColumn Header="Вместимость" Binding="{Binding Capacity}" FontSize="18"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </StackPanel>
                    </ScrollViewer>
                    
                </Grid>
            </TabItem>

            <!-- Вкладка бронирований -->
            <TabItem Header="Бронирования">
                <Grid>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="10">
                                <Button Content="Добавить бронирование" Click="AddBooking_Click" 
                Width="200" Margin="0,0,10,0"/>
                                <Button Content="Отметить заезд" Click="CheckInButton_Click" 
                Width="170" Margin="0,0,10,0" x:Name="CheckInButton"/>
                                <Button Content="Отметить выезд" Click="CheckOutButton_Click" 
                Width="170" Margin="0,0,10,0" x:Name="CheckOutButton"/>
                                <Button Content="Отменить бронирование" Click="CancelBookingButton_Click" 
                Width="170" x:Name="CancelBookingButton"/>
                            </StackPanel>
                            <DataGrid x:Name="BookingsGrid" Margin="10" AutoGenerateColumns="False" 
              SelectionChanged="BookingsGrid_SelectionChanged" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" FontSize="18"/>
                                    <DataGridTextColumn Header="Номер комнаты" Binding="{Binding RoomNumber}" FontSize="18"/>
                                    <DataGridTextColumn Header="Гость" Binding="{Binding GuestName}" FontSize="18"/>
                                    <DataGridTextColumn Header="Дата заезда" Binding="{Binding StartDate, StringFormat=d}" FontSize="18"/>
                                    <DataGridTextColumn Header="Дата выезда" Binding="{Binding EndDate, StringFormat=d}" FontSize="18"/>
                                    <DataGridTextColumn Header="Статус" Binding="{Binding StatusDisplay}" FontSize="18"/>
                                    <DataGridTextColumn Header="Стоимость" Binding="{Binding TotalPrice, StringFormat={}{0}₽}" FontSize="18"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </StackPanel>
                    </ScrollViewer>
                    
                </Grid>
            </TabItem>

            <!-- Вкладка гостей -->
            <TabItem Header="Гости">
                <Grid>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="10">
                                <Button Content="Добавить гостя" Click="AddGuest_Click" 
                Width="150" Margin="0,0,10,0"/>
                                <Button Content="Редактировать" Click="EditGuest_Click" 
                Width="150" Margin="0,0,10,0" x:Name="EditGuestButton"/>
                                <Button Content="Удалить" Click="DeleteGuest_Click" 
                Width="150" x:Name="DeleteGuestButton"/>
                            </StackPanel>
                            <DataGrid x:Name="GuestsGrid" Margin="10" AutoGenerateColumns="False"
             SelectionChanged="GuestsGrid_SelectionChanged" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50" FontSize="18"/>
                                    <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}" Width="150" FontSize="18"/>
                                    <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}" Width="150" FontSize="18"/>
                                    <DataGridTextColumn Header="Отчество" Binding="{Binding MiddleName}" Width="150" FontSize="18"/>
                                    <DataGridTextColumn Header="Телефон" Binding="{Binding PhoneNumber}" Width="170" FontSize="18"/>
                                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="150" FontSize="18"/>
                                    <DataGridTextColumn Header="Паспорт" Binding="{Binding Passport}" Width="150" FontSize="18"/>
                                    <DataGridTextColumn Header="Дата рождения" Binding="{Binding DateOfBirth, StringFormat=dd.MM.yyyy}" Width="150" FontSize="18"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </StackPanel>
                    </ScrollViewer>
                    
                </Grid>
            </TabItem>

            <!-- Вкладка поиска свободных номеров -->
            <TabItem Header="Поиск номеров">
                <Grid>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="10">
                            <TextBlock Text="Поиск свободных номеров на период:" Margin="0,0,0,10"/>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="С:" Width="30" VerticalAlignment="Center"/>
                                <DatePicker x:Name="StartDatePicker" Width="120" Margin="5,0"/>
                                <TextBlock Text="По:" Width="30" VerticalAlignment="Center" Margin="20,0,0,0"/>
                                <DatePicker x:Name="EndDatePicker" Width="120" Margin="5,0"/>
                                <Button Content="Найти" Click="SearchAvailableRooms_Click" Margin="20,0"/>
                            </StackPanel>

                            <DataGrid x:Name="AvailableRoomsGrid" AutoGenerateColumns="False"
             SelectionChanged="AvailableRoomsGrid_SelectionChanged" MinHeight="340" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Номер" Binding="{Binding RoomNumber}" FontSize="18"/>
                                    <DataGridTextColumn Header="Тип" Binding="{Binding Type}" FontSize="18"/>
                                    <DataGridTextColumn Header="Цена/ночь" Binding="{Binding PricePerNight, StringFormat={}{0}₽}" FontSize="18"/>
                                    <DataGridTextColumn Header="Вместимость" Binding="{Binding Capacity}" FontSize="18"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <Button Content="Забронировать выбранный номер" Click="BookSelectedRoom_Click" 
            Margin="0,10" HorizontalAlignment="Left" x:Name="BookButton" IsEnabled="False"/>
                        </StackPanel>
                    </ScrollViewer>
                    
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
